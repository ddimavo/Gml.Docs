# Запуск в Pterodactyl

> **Примечание**: Поддержка протестирована на ограниченном количестве серверных ядер. Если вы успешно настроили сервер,
> пожалуйста, сообщите об этом в [обсуждениях проекта](https://github.com/Gml-Launcher/Gml.Backend/discussions/80).

### Запуск игрового сервера Minecraft

В этом разделе рассмотрены различные способы запуска игрового сервера Minecraft, включая использование панели управления
**Pterodactyl**, запуск на операционной системе без дополнительного ПО, а также настройку сервера в **Docker**.

---

### 1. **Подготовка панели Pterodactyl**

- Убедитесь, что ваш сервер установлен и настроен в панели Pterodactyl.
- Для настройки сервера в Pterodactyl вам понадобится:
    - Доступ к панели управления.
    - Предварительно установленная Pterodactyl.
    - Добавленный узел (Node) и доступная конфигурация ресурсов (CPU, RAM, диск).

### 2. **Создание нового сервера**

1. Войдите в админ-панель Pterodactyl.
2. Перейдите в раздел **Servers** и нажмите кнопку **Create Server**.
3. Заполните основные параметры:
    - Название сервера.
    - Укажите узел и разметку ресурсов (CPU, RAM, диск).
    - Установите Docker-образ (например, `itzg/minecraft-server` для Paper).
    - Добавьте порты и выберите версию ядра Minecraft (например, Paper 1.20.4).
4. В разделе **Startup** настройте переменные окружения:
    - `TYPE` — выберите тип ядра (PAPER, SPIGOT и т.д.).
    - `VERSION` — укажите версию ядра (например, 1.20.4).
    - `EULA` — установите `TRUE` для принятия лицензионного соглашения.
    - `MEMORY` — укажите объем памяти (например, 4G).
    - Если требуется, добавьте параметр JVM для работы с Authlib Injector:
      ```bash
      -javaagent:libraries/authlib-injector-1.2.5.jar=https://localhost:5000/api/v1/integrations/authlib/minecraft
      ```  
5. Нажмите **Create Server**.

### 3. **Запуск сервера**

После создания сервера выполните следующие шаги:

1. В панели Pterodactyl выберите созданный сервер.
2. Перейдите в раздел **Console**.
3. Нажмите **Start** для запуска сервера.
4. Дождитесь, пока сервер завершит начальную настройку.

---


> Важно!
> Не оставляйте `localhost:5000`, если сервер будет использоваться другими игроками или развёрнут на удалённой машине!
> В параметре `-javaagent` замените `https://localhost:5000/api/v1/integrations/authlib/minecraft` на адрес вашего API,
> где развернута интеграция **authlib injector**.

Если ваш сервер доступен по адресу `https://api.example.com`, то строка должна выглядеть следующим образом:

```bash
-javaagent:libraries/authlib-injector-1.2.5-alpha-1.jar=https://api.example.com/api/v1/integrations/authlib/minecraft -Dauthlibinjector.debug
```