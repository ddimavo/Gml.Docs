# FAQ - Популярные проблемы

За время работы и разработки проекта у пользователей возникали множество вопросов и проблем.
В данном разделе мы собрали наиболее часто встречающиеся из них и предоставили подробные ответы и решения.

## Отсутствие связи с сервером Api

Часто возникающая проблема, разрыва или отсутствия соединения с Gml.Web.Api (Поставщика данных)

### Признаки

- ![faq-1.png](faq-1.png) {width="300"}
- Если прописать ```docker ps -a``` на вашем сервере - вы видите упавший контейнер Gml.Web.Api
- У вас недоступен сервис на 5000 порту, например:
    - http://localhost:5000
    - http://192.168.31.200:5000
    - IP_SERVER:5000

### Варианты решения

- Проверьте подключение к интернету и убедитесь, что правильно сконфигурированы параметры подключения к серверу Gml Api.
- Проверьте, что ваш фронтенд-часть видит сервер, и что устройство с которого открывается страница Gml.Frontend видит
  Gml.Api [(Как это сделать](faq-details.md#api-available))
- Проверьте конфигурационный файл Gml.Frontend ```.env``` в папке ```src\Gml.Web.Client\.env``` он должен выглядеть
  следующим образом
    ```
    # Адрес к Web Api
    NEXT_PUBLIC_BACKEND_URL=http://localhost:5000/api/v1
    ```
  > Внимание! Не должно быть ```/``` в конце адреса и выбран верный протокол ```http``` или ```https```

Если вы заметили ошибку и исправили ее, то
выполните [скрипт обновления](https://github.com/Gml-Launcher/Gml.Backend.Installer),
который перекачает и пересоберет все необходимые компоненты системы

## Не сохраняются настройки игры

Это нормальное поведение лаунчера. Лаунчер, в цели безопасности и целостности игровых клиентов,
при заходе в игру удаляет все, что не относится к [папке игрового клиента](Работа-с-модами.md) и файлы - не исключение.
Для решения данной проблемы создан [белый список папок и файлов](gml-white-lists.md). Прочитайте данную страницу и
добавьте
файл ```options.txt``` в белый список

## Нет нужной версии Minecraft

Мы поддерживаем исключительно официальные репозитории игры, а так же модовых клиентов. Все версии автоматически парсятся
из официальных источников. Это позволяет нам не следить за обновлениями Minecraft. Они сами будут появляться для вас,
без необходимости обновлять панель Gml.

## Не удалось восстановить игровой профиль

### Признаки

Вы видите примерно такие ошибки.
![gml-faq-2.png](gml-faq-2.png) {width="300"}
Обращаем ваше внимание, что не все игровые клиенты поддерживают определенные форматы систем.
Например, 1.20.1 не поддерживается на системах osx с архитектурой 32, и это совершенно нормально. Такие ошибки можно
игнорировать

![gml-faq-3.png](gml-faq-3.png) {width="300"}
![gml-faq-4.png](gml-faq-4.png) {width="300"}
Если у вас возникают ошибки такого рода, то они гораздо серьезнее. Gml Backend построен таким образом, что он способен
чинить
сам себя, однако, при некоторых действиях администратора - целостность профиля может быть нарушена, в таком случае
поможет
исключительно пересоздание игрового профиля.

Так же, ошибки подобного рода могут возникать, если в процессе загрузки игрового клиента minecraft отдал файл не
полностью,
или он не докачался, или произошла одна из ошибок ISO/OSI, в таком случае можно попытаться
повторно "[Загрузить клиент](profiles-download.md)"
или как обговаривалось ранее - полностью пересоздать. На проблемы транспортного уровня мы никак повлиять не можем.

## В лаунчере отсутствую проекты

### Признаки

![gml-faq-5.png](gml-faq-5.png)
Вы не видите все, или частично проекты

### Решение

Необходимо загрузить зависимые проекты лаунчера, для этого в корне проекта лежат файлы bat и sh, которые необходимо
запустить в зависимости от вашей операционной системы. Если при запуске у вас ничего не происходит или сразу закрывается
консоль, то проверьте установлена ли у вас [система контроля версий Git ](https://git-scm.com)

## Не работает Minio

Minio может не работать из-за того, что у вас при установке был установлен слишком простой пароль.
Смените его в ```.env``` файле и перезапустите проект ```docker compose restart```

## Как подключить Discord

Для подключения Discord к вашему лаунчеру,
необходимо [зарегистрировать бота на официальном сайте Discord](https://discord.com/developers/applications/)
И заполнить соответствующую страницу в Панели
![gml-faq-6.png](gml-faq-6.png)

## Произошла ошибка при работе с файловой системой

### Признаки

![gml-faq-7.png](gml-faq-7.png)
Вы видите данную ошибку, профиль не открывается

### Решение

Ошибка говорит сама за себя, необходимо перезапустить весь сервис gml командой ```docker compose restart```
или перезапустить сам сервер.

Возможными причинами такой ошибки являются блокировка файлов в системе другим процессом или службой.

## Не запускается сервер с authlib-injector

### Признаки

![gml-faq-8.png](gml-faq-8.png)
Вы видите данную ошибку, игровой сервер крашится

### Решение

Решение обычно сводится к тому, что в параметре, передаваемом в запуске указан не верный протокол ```http``` или
```https```
![gml-faq-9.png](gml-faq-9.png)
Например, как в этом примере. Неправильно указан протокол. Для localhost и IP адресов может быть только ```http```
Так же попробуйте перейти по данному адресу, вы должны увидеть примерно следующее:
![gml-faq-10.png](gml-faq-10.png)

## Не удалось обнаружить загруженную JAVA

### Признаки

![gml-faq-11.png](gml-faq-11.png)
Вы видите данную ошибку, игровой клиент не запускается

### Решение

У вас не загружен профиль до конца (на сервере), или не собран. Первым делом попробуйте пересобрать профиль, либо
[загрузите профиль заново](profiles-download.md)

## Произошла ошибка при обмене данных с сервисом авторизации

### Признаки

![gml-faq-12.png](gml-faq-12.png)
Вы видите данную ошибку, авторизация не происходит

### Решение

Сервер авторизации Gml.Web.Api не видит (или возвращает ошибочный ответ) ваш сайт или CMS, на которой проверяется
аутентификация пользователя.
Убедитесь в правильности настройки раздела ```Интеграции``` -> ```Авторизация```

## Папка GmlBackend пустая

### Признаки

![gml-faq-13.png](gml-faq-13.png)
Вы видите примерно следующее в папке ```data/GmlBackend```

Это означает, что у вас неправильно произведена установка.
Убедитесь что название вашего проекта в ```.env``` файле не имеет пробелов и спецсимволов.

## Забыл пароль от Админ Панели

### Решение

Выполните [скрипт обновления](https://github.com/Gml-Launcher/Gml.Backend.Installer),
серверная часть удалит всех пользователей, но не тронет профили.

## Не удалось найти проект по пути:

### Признаки

![gml-faq-14.png](gml-faq-14.png)
Вы видите примерно следующее

Читайте документацию [по сборке через панель. ](launcher-panel-build-download.md#download)

## Ошибка входа: Службы аутентификации отключены для проведения технических работ.

### Решение

Если у вас выбран метод авторизации Azuriom - выполните следующее:

- Откройте файл ```/папка_с_сайтом/app/Games/Minecraft/MinecraftOfflineGame.php```, и найдите в нем следующий код:
```
public function getUserUniqueId(string $name): ?string
    {
        $factory = new UuidFactory();
        $factory->setNameGenerator(new class implements NameGeneratorInterface
        {
            public function generate(UuidInterface $ns, string $name, string $hashAlgorithm): string
            {
                return md5($name, true);
            }
        });
        $uuid = $factory->uuid3(Uuid::NIL, 'OfflinePlayer:'.$name)->toString();

        return Str::remove('-', $uuid);
    }
```
- Замените ```return Str::remove('-', $uuid);``` на ```return $uuid;```. <br>

**ВНИМАНИЕ:** После этой процедуры необходимо пересоздать все уже имеющиеся аккаунты, чтобы сгенерировались новые и корректные UUID.